{% extends 'layouts.html' %}
{% block content %}
<div class="content-section" style ="background-color: rgb(233, 233, 234);">
  <div class="media">
      <img src="{{ image_file }}" class="rounded-circle account-img">
      <div class="media-body">
          <h2 class="account-heading">{{ current_user.username }}</h2>
          <p class="text-secondary">{{ current_user.email }}</p>
      </div>
  </div>
  <form method="POST" enctype="multipart/form-data">
    <div class = 'form-group'>
      {{ form.hidden_tag() }}
      {{ form.email.label(class='sr-only') }}
      {% if form.email.errors %} 
        {{ form.email(class='form-control is-invalid',placeholder="Email") }}
        <div class="invalid-feedback" id="flash-messages">
          {% for error in form.email.errors %}
            <span>{{ error }}</span>
          {% endfor %}
        </div>
      {% else %}
        {{ form.email(class='form-control',placeholder="Email") }} 
      {% endif %}
    </div>

    <div class = 'form-group'>
      {{ form.username.label(class='sr-only') }}
      {% if form.username.errors %} 
        {{ form.username(class='form-control is-invalid',placeholder="Username") }}
        <div class="invalid-feedback" id="flash-messages">
          {% for error in form.username.errors %}
            <span>{{ error }}</span>
          {% endfor %}
        </div>
      {% else %}
        {{ form.username(class='form-control',placeholder="Username") }}
      {% endif %}
    </div>
    <div class = 'form-group'>
      {{ form.dob.label(class='form-control-label') }}
      {% if form.dob.errors %} 
        {{ form.dob(class='form-control is-invalid') }}
        <div class="invalid-feedback" id="flash-messages">
          {% for error in form.dob.errors %}
            <span>{{ error }}</span>
          {% endfor %}
        </div>
      {% else %}
        {{ form.dob(class='form-control form-floating') }}
      {% endif %}
    </div>
    <div class = 'form-group'>
      {{ form.picture.label() }}
      {{ form.picture(class='form-control-file',id='formFile')}}
      {% if form.picture.errors %} 
          {% for error in form.picture.errors %}
            <span class="text-danger sm">{{ error }}</span>
          {% endfor %}
        </div>
      {% endif %}
    </div>
    <div class = 'form-group'>
      {{ form.resume.label() }}
      {{ form.resume(class='form-control-file',id='formFile')}}
      {% if form.resume.errors %} 
          {% for error in form.resume.errors %}
            <span class="text-danger sm">{{ error }}</span>
          {% endfor %}
        </div>
      {% endif %}
    </div>
    <!-- <div class = 'form-group'>
      <div class="skill">
        {{ form.skill.label()}}
        {{ form.skill(id='skill-value',type='range',min="0",max="100",value="50)}}
        <output id="slider-value">50</output>
     </div>
    </div> -->
    <div class = 'form-group'>
      {{ form.profile_overview.label(class='form-control-label') }}
      {% if form.profile_overview.errors %} 
        {{ form.profile_overview(class='form-control is-invalid',placeholder="Tell us about yourself") }}
        <div class="invalid-feedback" id="flash-messages">
          {% for error in form.profile_overview.errors %}
            <span>{{ error }}</span>
          {% endfor %}
        </div>
      {% else %}
        {{ form.profile_overview(class='form-control form-floating',placeholder="Tell us about yourself") }}
      {% endif %}
    </div>
    <div class = 'form-group'>
      {{ form.qualification.label(class='form-control-label') }}
      {% if form.qualification.errors %} 
        {{ form.qualification(class='form-control is-invalid',placeholder="Tell us your education") }}
        <div class="invalid-feedback" id="flash-messages">
          {% for error in form.qualification.errors %}
            <span>{{ error }}</span>
          {% endfor %}
        </div>
      {% else %}
        {{ form.qualification(class='form-control form-floating',placeholder="Tell us your education") }}
      {% endif %}
    </div>
    <div class="form-group">
      {{ form.projects.label(class='form-control-label') }}
      <a type="button" class="form-control btn btn-info" href="{{url_for('projects')}}">Update your projects here</a>    
    </div>
    <div class="form-group " >  
      {{ form.update(class="btn btn-secondary mt-2") }}
    </div>
  </form>
</div>

{% endblock content %}





